{"version":3,"sources":["webpack:///./src/pages/industryUnion/views/service-submit.vue?b4a9","webpack:///src/pages/industryUnion/views/service-submit.vue","webpack:///./src/pages/industryUnion/views/service-submit.vue?3429","webpack:///./src/pages/industryUnion/views/service-submit.vue","webpack:///./src/pages/industryUnion/views/service-submit.vue?3d74"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","input-align","clearable","label","placeholder","model","value","form","callback","$$v","$set","expression","readonly","enterprise_name","length","disabled","is-link","on","click","$event","showCompany","submitApply","_v","position","columns","show-toolbar","confirm","choseCompany","cancel","onCancel","staticRenderFns","service_submitvue_type_script_lang_js_","name","data","serviceType","phone","username","company","created","getUserInfo","methods","_this","axios","post","apiConfig","then","res","s","$store","dispatch","d","$router","push","_this2","_this$form","query","$route","utils","services_id","id","$dialog","title","message","$toast","loading","mask","unionServiceApply","apply_name","apply_tel","success","m","catch","views_service_submitvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_service_submit_vue_vue_type_style_index_0_id_4c30bc88_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_service_submit_vue_vue_type_style_index_0_id_4c30bc88_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/29.7f6afc2c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"content\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"申请人\",\"placeholder\":\"请输入您的姓名\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"readonly\":\"\",\"label\":\"联系电话\",\"placeholder\":\"请输入您的联系电话\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}}),(!_vm.form.enterprise_name || _vm.form.enterprise_name.length == 0)?[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"企业名称\",\"placeholder\":\"请输入您的企业名称\"},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}})]:(_vm.form.enterprise_name.length == 1)?[_c('van-field',{attrs:{\"input-align\":\"right\",\"disabled\":\"\",\"clearable\":\"\",\"label\":\"企业名称\",\"placeholder\":\"请输入您的企业名称\"},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}})]:[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"企业名称\",\"readonly\":\"\",\"is-link\":\"\",\"placeholder\":\"请选择您的企业名称\"},on:{\"click\":function($event){_vm.showCompany = true}},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}})]],2)],1),_c('div',{staticClass:\"p15\"},[_c('div',{staticClass:\"btn btn-success f17 btn-round\",on:{\"click\":_vm.submitApply}},[_vm._v(\"提交申请\")])]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showCompany),callback:function ($$v) {_vm.showCompany=$$v},expression:\"showCompany\"}},[_c('van-picker',{attrs:{\"columns\":_vm.form.enterprise_name,\"show-toolbar\":\"\"},on:{\"confirm\":_vm.choseCompany,\"cancel\":_vm.onCancel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page\">\r\n    <div class=\"content\">\r\n      <van-cell-group>\r\n        <van-field\r\n                input-align=\"right\"\r\n                v-model=\"form.username\"\r\n                clearable\r\n                label=\"申请人\"\r\n                placeholder=\"请输入您的姓名\"\r\n        />\r\n        <van-field\r\n                input-align=\"right\"\r\n                v-model=\"form.phone\"\r\n                clearable\r\n                readonly\r\n                label=\"联系电话\"\r\n                placeholder=\"请输入您的联系电话\"\r\n        />\r\n        <template v-if=\"!form.enterprise_name || form.enterprise_name.length == 0\">\r\n          <van-field\r\n                  input-align=\"right\"\r\n                  v-model=\"form.company\"\r\n                  clearable\r\n                  label=\"企业名称\"\r\n                  placeholder=\"请输入您的企业名称\"\r\n          />\r\n        </template>\r\n        <template v-else-if=\"form.enterprise_name.length == 1\">\r\n          <van-field\r\n                  input-align=\"right\"\r\n                  v-model=\"form.company\"\r\n                  disabled\r\n                  clearable\r\n                  label=\"企业名称\"\r\n                  placeholder=\"请输入您的企业名称\"\r\n          />\r\n        </template>\r\n        <template v-else>\r\n          <van-field\r\n                  input-align=\"right\"\r\n                  v-model=\"form.company\"\r\n                  clearable\r\n                  label=\"企业名称\"\r\n                  readonly\r\n                  is-link\r\n                  @click=\"showCompany = true\"\r\n                  placeholder=\"请选择您的企业名称\"\r\n          />\r\n        </template>\r\n      </van-cell-group>\r\n    </div>\r\n    <div class=\"p15\">\r\n      <div class=\"btn btn-success f17 btn-round\" @click=\"submitApply\">提交申请</div>\r\n    </div>\r\n    <van-popup v-model=\"showCompany\" position=\"bottom\">\r\n      <van-picker :columns=\"form.enterprise_name\" @confirm=\"choseCompany\" show-toolbar @cancel=\"onCancel\"/>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\n  import * as utils from '@/common/utils.js'\r\n\r\n  export default {\r\n    name: 'apply',\r\n    data() {\r\n      return {\r\n        serviceType: 1,\r\n        showCompany: false,\r\n        form: {\r\n          phone: '',\r\n          username: '',\r\n          company: ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.getUserInfo()\r\n    },\r\n    methods: {\r\n      getUserInfo() {\r\n        this.axios.post(this.apiConfig.getUserInfo, {}).then(res => {\r\n          if (res.s === 1) {\r\n            this.$store.dispatch('UPDATE_LOADINGSTATE', false)\r\n            this.form = res.d\r\n            if (this.form.enterprise_name.length > 0) {\r\n              this.form.company = this.form.enterprise_name[0]\r\n            }\r\n          } else {\r\n            this.$router.push({\r\n              name: 'Index'\r\n            })\r\n          }\r\n        })\r\n      },\r\n      onCancel() {\r\n        this.showCompany = false\r\n      },\r\n      choseCompany(value) {\r\n        this.form.company = value\r\n        this.showCompany = false\r\n      },\r\n      submitApply() {\r\n        let {username, company} = this.form\r\n        if (!username) {\r\n          this.$toast('请输入您的姓名')\r\n          return\r\n        }\r\n        if (!company) {\r\n          this.$toast('请填写公司名称')\r\n          return\r\n        }\r\n        let query = this.$route.query\r\n        if (!utils.isEmpty(query)) {\r\n          let services_id = query.id\r\n          this.$dialog.confirm({\r\n            title: '提示',\r\n            message: '确定提交申请吗？'\r\n          }).then(() => {\r\n            this.$toast.loading({\r\n              mask: true,\r\n              message: '提交中...'\r\n            })\r\n            this.axios.post(this.apiConfig.unionServiceApply, {\r\n              services_id,\r\n              apply_name: this.form.username,\r\n              apply_tel: this.form.phone,\r\n              company\r\n            }).then(res => {\r\n              if (res.s === 1) {\r\n                this.$toast.success('提交成功')\r\n              } else {\r\n                this.$toast(res.m)\r\n              }\r\n            })\r\n          }).catch(() => {\r\n            // on cancel\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../../assets/scss/Common/variables.scss';\r\n\r\n  .van-cell input[type=text] {\r\n    text-align: right;\r\n  }\r\n\r\n  .office-list {\r\n    position: relative;\r\n    padding: rem(15px) rem(30px);\r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      top: rem(31px);\r\n      left: rem(5px);\r\n      width: rem(14px);\r\n      height: rem(14px);\r\n      border-radius: 50%;\r\n      background-color: green;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service-submit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service-submit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./service-submit.vue?vue&type=template&id=4c30bc88&scoped=true&\"\nimport script from \"./service-submit.vue?vue&type=script&lang=js&\"\nexport * from \"./service-submit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./service-submit.vue?vue&type=style&index=0&id=4c30bc88&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c30bc88\",\n  null\n  \n)\n\ncomponent.options.__file = \"service-submit.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service-submit.vue?vue&type=style&index=0&id=4c30bc88&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./service-submit.vue?vue&type=style&index=0&id=4c30bc88&lang=scss&scoped=true&\""],"sourceRoot":""}