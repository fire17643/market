(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"2b15":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"application"},[t.loaded?[t.canEditor?a("div",[a("div",{staticClass:"cell_reason"},[t._v("\n              申请信息"),a("span",{staticClass:"font_red",staticStyle:{float:"right"}},[t._v(t._s(t.statusName)+" ")])]),"已驳回"==t.statusName?[a("div",{staticClass:"cell_reason font_red"},[t._v("\n              驳回原因："+t._s(t.reason)+"\n          ")]),a("div",{staticClass:"cell_reason",staticStyle:{width:"100%","text-align":"center"}},[a("div",{staticClass:"submit_btn",on:{click:function(e){t.submit("reSub")}}},[t._v("\n              重新提交申请\n              ")])])]:t._e()],2):t._e(),a("van-cell-group",{staticClass:"input_cell"},[a("van-field",{attrs:{label:"申请人",disabled:t.form.name,placeholder:"请输入申请人名称，必填",required:!t.canEditor},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}}),a("van-field",{attrs:{label:"联系方式",clearable:"",disabled:t.canEditor,placeholder:"请输入申请人电话，必填","error-message":t.errorPhone,required:!t.canEditor},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}}),a("van-field",{attrs:{label:"出生年月",clearable:"",disabled:t.canEditor,placeholder:"格式2008年12月，必填",required:!t.canEditor},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday","string"===typeof e?e.trim():e)},expression:"form.birthday"}}),t.columns.length>1&&!t.canEditor?a("van-field",{attrs:{disabled:!0,type:"textarea",rows:"1",autosize:"",label:"工作单位",placeholder:"请输入申请企业名称，必填",required:!t.canEditor},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company","string"===typeof e?e.trim():e)},expression:"form.company"}},[a("div",{attrs:{slot:"button"},on:{click:t.showCompany},slot:"button"},[a("div",{staticClass:"triangle"},[a("div",{staticClass:"t_content"})])])]):t._e(),t.columns.length<=1||t.canEditor?a("van-field",{attrs:{label:"工作单位",required:!t.canEditor,type:"textarea",clearable:"",rows:"1",autosize:"",disabled:1==t.columns.length||t.canEditor},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company","string"===typeof e?e.trim():e)},expression:"form.company"}}):t._e(),a("van-field",{attrs:{label:"个人介绍",clearable:"",disabled:t.canEditor,required:!t.canEditor,type:"textarea",placeholder:"请输入个人介绍(100个字以内),必填",rows:"6"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}}),t.canEditor?a("van-field",{attrs:{disabled:t.canEditor,clearable:"",label:"申请时间",required:!t.canEditor},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):t._e()],1),a("div",{staticStyle:{width:"100%","text-align":"center"}},[t.canEditor?t._e():a("div",{staticClass:"submit_btn",staticStyle:{"margin-top":"20px"},on:{click:t.submit}},[t._v("\n          提交申请\n          ")]),a("router-link",{staticClass:"submit_btn",staticStyle:{"margin-top":"20px","margin-bottom":"50px"},attrs:{to:"/process"}},[t._v(" \n              查看入党申请流程\n           ")])],1),a("bottom"),a("company",{attrs:{show:t.companyShow,columns:t.columns},on:{updateCompany:t.doUpdateCompany}})]:[a("div",{staticStyle:{width:"100%","padding-top":"20px","font-size":"14px",color:"#ccc","text-align":"center"}},[t._v("\n                加载中\n            ")])]],2)},n=[],r=(a("7f7f"),a("408c")),i=a("3c6c"),s=a("ac17"),c={name:"pApplication",data:function(){return{form:{id:"",name:"",phone:"",company:"",birthday:"",remark:"",zone_id:localStorage["h5_zone_id"]},canEditor:!1,errorPhone:"",time:"",companyShow:!1,columns:[],loaded:!1}},created:function(){this.getPartyData()},components:{Bottom:r["a"],Company:i["a"]},watch:{"form.phone":function(){Object(s["a"])(this.form.phone)?this.errorPhone="":this.errorPhone="请输入正确手机号"}},methods:{doUpdateCompany:function(t){t&&(this.form.company=t),this.companyShow=!1},showCompany:function(){this.companyShow=!0},getData:function(){if(sessionStorage.users){var t=JSON.parse(sessionStorage.users);this.form.name=t.name,this.form.phone=t.phone,this.form.company=t.company[0]||"",this.columns=JSON.parse(JSON.stringify(t.company))}},getPartyData:function(){var t=this;this.axios.get("/app/party/detail?type=1").then(function(e){if(1==e.s)if(t.loaded=!0,""!=e.d){if(t.canEditor=!0,t.form.id=e.d.id,t.form.name=e.d.name,t.form.phone=e.d.phone,t.form.company=e.d.company,t.form.birthday=e.d.birthday,t.form.remark=e.d.remark,t.time=e.d.create_time,t.statusName=0==e.d.status?"待审核":1==e.d.status?"已通过":"已驳回",t.reason=e.d.operation_remark,sessionStorage.users){var a=JSON.parse(sessionStorage.users);t.columns=JSON.parse(JSON.stringify(a.company))}}else t.canEditor=!1,t.getData()})},submit:function(t){var e=this;if("reSub"!=t){var a=this.form;""!=a.name&&""!=a.phone&&""!=a.company&&""!=a.birthday&&""!=a.rmark?""==this.errorPhone&&this.axios.post("/app/party/joinParty",a).then(function(t){if(1==t.s)return e.$toast("提交成功!"),void e.getPartyData()}):this.$toast("请输入完整信息")}else this.canEditor=!1}}},l=c,m=(a("d19d"),a("2877")),d=Object(m["a"])(l,o,n,!1,null,"c52b2e70",null);d.options.__file="Application.vue";e["default"]=d.exports},"33cd":function(t,e,a){},"3c6c":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{confirm:t.onChange,cancel:t.onCancel}})],1)},n=[],r={props:["show","columns"],data:function(){return{}},methods:{onChange:function(t,e,a){console.log(e,t),this.$emit("updateCompany",t)},onCancel:function(){this.$emit("updateCompany")},closePop:function(){this.$emit("updateCompany")}}},i=r,s=(a("b794"),a("2877")),c=Object(s["a"])(i,o,n,!1,null,null,null);c.options.__file="company.vue";e["a"]=c.exports},"408c":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"party_bottom"},[a("p",[t._v("您也可以打电话咨询,雅宝园区党群服务中心")]),a("a",{staticClass:"call_btn",attrs:{href:"tel:0755-23953629"}},[t._v("0755-23953629转770")])])}],r=(a("d2a4"),a("2877")),i={},s=Object(r["a"])(i,o,n,!1,null,null,null);s.options.__file="bottom.vue";e["a"]=s.exports},"6c8d":function(t,e,a){},"7f7f":function(t,e,a){var o=a("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&o(n,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},8971:function(t,e,a){},ac17:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var o=function(t){var e=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;return!!e.test(t)}},b794:function(t,e,a){"use strict";var o=a("33cd"),n=a.n(o);n.a},d19d:function(t,e,a){"use strict";var o=a("6c8d"),n=a.n(o);n.a},d2a4:function(t,e,a){"use strict";var o=a("8971"),n=a.n(o);n.a}}]);
//# sourceMappingURL=11.ed77c1ff.js.map