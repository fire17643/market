(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"395a":function(t,a,e){},"469b":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page",attrs:{id:"member"}},[e("div",{staticClass:"content"},[t.hasSubmit?t._e():e("div",{staticClass:"p15 orange f14 tips"},[t._v("\n      成为会员后，将会共享企业家之间的活动、专题分享、\n      商务资源对接等资源共享。\n    ")]),0==t.formData.status?e("div",{staticClass:"p15 orange f14 tips"},[t._v("\n      感谢您申请会员，我们将在3个工作日内为您审核。\n    ")]):t._e(),1==t.formData.status?e("div",{staticClass:"p15 orange f14 tips"},[t._v("\n      已通过会员申请，我们将会联系您并上门拜访。\n    ")]):t._e(),t.hasSubmit?e("van-cell-group",[e("van-field",{class:{revieving:0==t.formData.status,reject:2==t.formData.status,pass:1==t.formData.status},attrs:{disabled:"",label:"申请信息","input-align":"right",value:t.applyMsg[t.formData.status]}}),2==t.formData.status?e("van-field",{attrs:{"input-align":"right",disabled:"",label:"驳回原因",value:t.formData.reject}}):t._e(),e("van-field",{attrs:{disabled:"",label:"姓名","input-align":"right",value:t.formData.name}}),e("van-field",{attrs:{disabled:"",label:"企业","input-align":"right",value:t.formData.company}}),e("van-field",{attrs:{disabled:"",label:"职位","input-align":"right",value:t.formData.position}}),e("van-field",{attrs:{disabled:"",label:"申请时间","input-align":"right",value:t.formData.time}})],1):e("van-cell-group",[e("van-field",{attrs:{placeholder:"请输入申请人名称，必填"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}}),e("van-field",{attrs:{placeholder:"请输入申请人电话，必填"},model:{value:t.formData.tel,callback:function(a){t.$set(t.formData,"tel",a)},expression:"formData.tel"}}),e("van-field",{attrs:{placeholder:"请输入申请人企业名称，必填"},model:{value:t.formData.company,callback:function(a){t.$set(t.formData,"company",a)},expression:"formData.company"}}),e("van-field",{attrs:{placeholder:"请输入您的职位，必填"},model:{value:t.formData.position,callback:function(a){t.$set(t.formData,"position",a)},expression:"formData.position"}})],1),t.hasSubmit?t._e():e("div",{staticClass:"btn-wrap mt10"},[e("div",{staticClass:"btn btn-success btn-round",on:{click:function(a){t.applyMember()}}},[t._v("提交申请")])]),t.hasSubmit&&2==t.formData.status?e("div",{staticClass:"btn-wrap mt10"},[e("div",{staticClass:"btn btn-success btn-round",on:{click:function(a){t.applyMember(1)}}},[t._v("重新提交申请")])]):t._e()],1)])},n=[],s=(e("7f7f"),{name:"member",data:function(){return{hasSubmit:!1,applyMsg:["待审核","已通过","已驳回"],formData:{name:"",tel:"",company:"",position:""}}},created:function(){this.getUserInfo(),this.getMemberDetail()},methods:{getMemberDetail:function(){var t=this;this.axios.get(this.apiConfig.joinMemberDetail).then(function(a){if(1===a.s){var e=a.d;e.name&&e.tel&&e.company&&e.position?(t.hasSubmit=!0,t.formData=e):(t.formData.tel=t.userInfo.phone,t.formData.name=t.userInfo.username,t.formData.company=t.userInfo.enterprise_name.length&&t.userInfo.enterprise_name[0]),t.$store.dispatch("UPDATE_LOADINGSTATE",!1)}})},getUserInfo:function(){var t=this;this.axios.post(this.apiConfig.getUserInfo).then(function(a){1===a.s&&(t.userInfo=a.d)})},applyMember:function(t){var a,e,i=this;this.formData.company_id=this.formData.coid,this.formData.member_id=this.userInfo.user_id;var n=this.formData,s=n.name,o=n.tel,r=n.company,l=n.position,m=n.company_id,f=n.member_id,c=n.id;1==t?(a=this.apiConfig.retryJoinMember,e={name:s,tel:o,company:r,position:l,company_id:m,member_id:f,id:c}):(a=this.apiConfig.joinMember,e={name:s,tel:o,company:r,position:l}),this.formData.name?this.formData.tel?/^1[34578]\d{9}$/.test(this.formData.tel)?this.formData.company?this.formData.position?this.axios.post(a,e).then(function(t){1===t.s&&i.$toast("提交成功")}):this.$toast("请输入申请人职位"):this.$toast("请输入申请人公司"):this.$toast("手机号码有误"):this.$toast("请输入申请人电话"):this.$toast("请输入申请人名称")}}}),o=s,r=(e("6b82"),e("2877")),l=Object(r["a"])(o,i,n,!1,null,null,null);l.options.__file="member.vue";a["default"]=l.exports},"6b82":function(t,a,e){"use strict";var i=e("395a"),n=e.n(i);n.a},"7f7f":function(t,a,e){var i=e("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,o="name";o in n||e("9e1e")&&i(n,o,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=21.0ff6ba7e.js.map