(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{"0b70":function(e,n,o){"use strict";o.r(n);var a=function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("div",{staticClass:"page"},[o("div",{staticClass:"content"},[o("van-cell-group",[o("van-field",{attrs:{"input-align":"right",clearable:"",label:"申请人",placeholder:"请输入您的姓名"},model:{value:e.form.username,callback:function(n){e.$set(e.form,"username",n)},expression:"form.username"}}),o("van-field",{attrs:{"input-align":"right",clearable:"",readonly:"",label:"联系电话",placeholder:"请输入您的联系电话"},model:{value:e.form.phone,callback:function(n){e.$set(e.form,"phone",n)},expression:"form.phone"}}),e.form.enterprise_name&&0!=e.form.enterprise_name.length?1==e.form.enterprise_name.length?[o("van-field",{attrs:{"input-align":"right",disabled:"",clearable:"",label:"企业名称",placeholder:"请输入您的企业名称"},model:{value:e.form.company,callback:function(n){e.$set(e.form,"company",n)},expression:"form.company"}})]:[o("van-field",{attrs:{"input-align":"right",clearable:"",label:"企业名称",readonly:"","is-link":"",placeholder:"请选择您的企业名称"},on:{click:function(n){e.showCompany=!0}},model:{value:e.form.company,callback:function(n){e.$set(e.form,"company",n)},expression:"form.company"}})]:[o("van-field",{attrs:{"input-align":"right",clearable:"",label:"企业名称",placeholder:"请输入您的企业名称"},model:{value:e.form.company,callback:function(n){e.$set(e.form,"company",n)},expression:"form.company"}})]],2)],1),o("div",{staticClass:"p15"},[o("div",{staticClass:"btn btn-success f17 btn-round",on:{click:e.submitApply}},[e._v("提交申请")])]),o("van-popup",{attrs:{position:"bottom"},model:{value:e.showCompany,callback:function(n){e.showCompany=n},expression:"showCompany"}},[o("van-picker",{attrs:{columns:e.form.enterprise_name,"show-toolbar":""},on:{confirm:e.choseCompany,cancel:e.onCancel}})],1)],1)},t=[],s=o("90b9"),i={name:"apply",data:function(){return{serviceType:1,showCompany:!1,form:{phone:"",username:"",company:""}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=this;this.axios.post(this.apiConfig.getUserInfo,{}).then(function(n){1===n.s?(e.$store.dispatch("UPDATE_LOADINGSTATE",!1),e.form=n.d,e.form.enterprise_name.length>0&&(e.form.company=e.form.enterprise_name[0])):e.$router.push({name:"Index"})})},onCancel:function(){this.showCompany=!1},choseCompany:function(e){this.form.company=e,this.showCompany=!1},submitApply:function(){var e=this,n=this.form,o=n.username,a=n.company;if(o)if(a){var t=this.$route.query;if(!s["e"](t)){var i=t.id;this.$dialog.confirm({title:"提示",message:"确定提交申请吗？"}).then(function(){e.$toast.loading({mask:!0,message:"提交中..."}),e.axios.post(e.apiConfig.unionServiceApply,{services_id:i,apply_name:e.form.username,apply_tel:e.form.phone,company:a}).then(function(n){1===n.s?e.$toast.success("提交成功"):e.$toast(n.m)})}).catch(function(){})}}else this.$toast("请填写公司名称");else this.$toast("请输入您的姓名")}}},r=i,l=(o("dc55"),o("2877")),c=Object(l["a"])(r,a,t,!1,null,"4c30bc88",null);c.options.__file="service-submit.vue";n["default"]=c.exports},9391:function(e,n,o){},dc55:function(e,n,o){"use strict";var a=o("9391"),t=o.n(a);t.a}}]);
//# sourceMappingURL=29.7f6afc2c.js.map