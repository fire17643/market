(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{"33cd":function(t,e,a){},"3c6c":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},on:{"click-overlay":t.closePop},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:t.columns},on:{confirm:t.onChange,cancel:t.onCancel}})],1)},n=[],r={props:["show","columns"],data:function(){return{}},methods:{onChange:function(t,e,a){console.log(e,t),this.$emit("updateCompany",t)},onCancel:function(){this.$emit("updateCompany")},closePop:function(){this.$emit("updateCompany")}}},s=r,i=(a("b794"),a("2877")),c=Object(i["a"])(s,o,n,!1,null,null,null);c.options.__file="company.vue";e["a"]=c.exports},"408c":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"party_bottom"},[a("p",[t._v("您也可以打电话咨询,雅宝园区党群服务中心")]),a("a",{staticClass:"call_btn",attrs:{href:"tel:0755-23953629"}},[t._v("0755-23953629转770")])])}],r=(a("d2a4"),a("2877")),s={},i=Object(r["a"])(s,o,n,!1,null,null,null);i.options.__file="bottom.vue";e["a"]=i.exports},"4bb0":function(t,e,a){t.exports=a.p+"static/img/1.34cf8397.png"},"7f7f":function(t,e,a){var o=a("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,s="name";s in n||a("9e1e")&&o(n,s,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"85d1":function(t,e,a){},8971:function(t,e,a){},"8a82":function(t,e,a){t.exports=a.p+"static/img/2.e00dd3ce.png"},ac17:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var o=function(t){var e=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;return!!e.test(t)}},b794:function(t,e,a){"use strict";var o=a("33cd"),n=a.n(o);n.a},bdb9:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"transfer"},[t.loaded?[t.canEditor?o("div",[o("div",{staticClass:"cell_reason"},[t._v("\n              申请信息"),o("span",{staticClass:"font_red",staticStyle:{float:"right"}},[t._v(t._s(t.statusName)+" ")])]),"已驳回"==t.statusName?[o("div",{staticClass:"cell_reason font_red"},[t._v("\n              驳回原因："+t._s(t.reason)+"\n          ")]),o("div",{staticClass:"cell_reason",staticStyle:{width:"100%","text-align":"center"}},[o("div",{staticClass:"submit_btn",on:{click:function(e){t.submit("reSub")}}},[t._v("\n              重新提交申请\n              ")])])]:t._e(),o("div",{staticClass:"box_cell"},[o("van-cell-group",{staticClass:"input_cell"},[o("van-field",{attrs:{label:"申请人",disabled:!0,placeholder:"请输入申请人名称，必填",required:!t.canEditor},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}}),o("van-field",{attrs:{label:"联系方式",clearable:"",disabled:t.canEditor,placeholder:"请输入申请人电话，必填","error-message":t.errorPhone,required:!t.canEditor},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}}),o("van-field",{attrs:{label:1==t.transfer_type?"从何转入":"转出何处",clearable:"",disabled:t.canEditor,placeholder:0==t.active?"请输入从何转入(原党支部)，必填":"请输入转出何处(新党支部)，必填",required:!t.canEditor},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark","string"===typeof e?e.trim():e)},expression:"form.remark"}}),o("van-field",{attrs:{disabled:t.canEditor,clearable:"",type:"textarea",rows:"1",autosize:"",label:"工作单位",placeholder:"请输入申请企业名称，必填",required:!t.canEditor},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company","string"===typeof e?e.trim():e)},expression:"form.company"}}),o("van-field",{attrs:{disabled:t.canEditor,clearable:"",label:"单位地址",type:"textarea",rows:"2",autosize:"",placeholder:"请输入企业地址信息，必填",required:!t.canEditor},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address","string"===typeof e?e.trim():e)},expression:"form.address"}}),o("van-field",{attrs:{label:"申请时间",clearable:"",disabled:t.canEditor,placeholder:"",required:!t.canEditor},model:{value:t.time,callback:function(e){t.time="string"===typeof e?e.trim():e},expression:"time"}})],1)],1),o("div",{staticStyle:{"margin-top":"20px"}},[o("bottom")],1)],2):[o("div",{staticClass:"box_row clear"},[o("div",{staticClass:"row_left",on:{click:function(e){t.pic1=!0}}},[o("img",{attrs:{src:a("4bb0")}})]),o("div",{staticClass:"row_right",on:{click:function(e){t.pic2=!0}}},[o("img",{attrs:{src:a("8a82")}})])]),t.pic1?o("div",{staticClass:"open_pic",on:{click:function(e){t.pic1=!1}}},[o("img",{attrs:{src:a("4bb0")}})]):t._e(),t.pic2?o("div",{staticClass:"open_pic",on:{click:function(e){t.pic2=!1}}},[o("img",{attrs:{src:a("8a82")}})]):t._e(),o("div",{staticClass:"box_cell",class:{pic_show:t.pic1||t.pic2}},[o("van-tabs",{model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[o("van-tab",{attrs:{title:"转入"}}),o("van-tab",{attrs:{title:"转出"}})],1),o("van-cell-group",{staticClass:"input_cell"},[o("van-field",{attrs:{label:"申请人",disabled:t.form.name,placeholder:"请输入申请人名称，必填",required:!t.canEditor},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name","string"===typeof e?e.trim():e)},expression:"form.name"}}),o("van-field",{attrs:{label:"联系方式",clearable:"",disabled:t.canEditor,placeholder:"请输入申请人电话，必填","error-message":t.errorPhone,required:!t.canEditor},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone","string"===typeof e?e.trim():e)},expression:"form.phone"}}),o("van-field",{attrs:{label:0==t.active?"从何转入":"转出何处",clearable:"",disabled:t.canEditor,placeholder:0==t.active?"请输入从何转入(原党支部)，必填":"请输入转出何处(新党支部)，必填",required:!t.canEditor},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark","string"===typeof e?e.trim():e)},expression:"form.remark"}}),t.columns.length>1&&!t.canEditor?o("van-field",{attrs:{disabled:!0,type:"textarea",rows:"1",autosize:"",label:"工作单位",placeholder:"请输入申请企业名称，必填",required:!t.canEditor},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company","string"===typeof e?e.trim():e)},expression:"form.company"}},[o("div",{attrs:{slot:"button"},on:{click:t.showCompany},slot:"button"},[o("div",{staticClass:"triangle"},[o("div",{staticClass:"t_content"})])])]):t._e(),t.columns.length<=1||t.canEditor?o("van-field",{attrs:{label:"工作单位",required:!t.canEditor,type:"textarea",clearable:"",rows:"1",autosize:"",disabled:1==t.columns.length||t.canEditor},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company","string"===typeof e?e.trim():e)},expression:"form.company"}}):t._e(),o("van-field",{attrs:{disabled:t.canEditor,clearable:"",label:"单位地址",type:"textarea",rows:"2",autosize:"",placeholder:"请输入企业地址信息，必填",required:!t.canEditor},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address","string"===typeof e?e.trim():e)},expression:"form.address"}})],1)],1),o("div",{staticStyle:{width:"100%","text-align":"center"}},[o("div",{staticClass:"submit_btn",on:{click:t.submit}},[t._v("\n          提交申请\n          ")])]),o("bottom"),o("company",{attrs:{show:t.companyShow,columns:t.columns},on:{updateCompany:t.doUpdateCompany}})]]:[o("div",{staticStyle:{width:"100%","padding-top":"20px","font-size":"14px",color:"#ccc","text-align":"center"}},[t._v("\n          加载中\n      ")])]],2)},n=[],r=(a("7f7f"),a("408c")),s=a("3c6c"),i=a("ac17"),c={name:"transfer",data:function(){return{active:0,pic1:!1,pic2:!1,form:{id:"",name:"",phone:"",company:"",address:"",remark:""},errorPhone:"",canEditor:!1,statusName:"",time:"",reason:"",transfer_type:1,companyShow:!1,columns:[],loaded:!1}},components:{Bottom:r["a"],Company:s["a"]},watch:{active:function(){this.companyShow=!1},"form.phone":function(){Object(i["a"])(this.form.phone)?this.errorPhone="":this.errorPhone="请输入正确手机号"}},created:function(){this.getPartyData()},methods:{doUpdateCompany:function(t){t&&(this.form.company=t),this.companyShow=!1},showCompany:function(){this.companyShow=!0},getData:function(){var t=JSON.parse(sessionStorage.users);this.form.name=t.name,this.form.phone=t.phone,this.form.company=t.company[0]||"",this.columns=JSON.parse(JSON.stringify(t.company))},getPartyData:function(){var t=this;this.axios.get("/app/party/detail?type=2").then(function(e){if(1==e.s)if(t.loaded=!0,""!=e.d){t.canEditor=!0,t.form.id=e.d.id,t.form.name=e.d.name,t.form.phone=e.d.phone,t.form.company=e.d.company,t.form.address=e.d.address,t.form.remark=e.d.remark,t.time=e.d.create_time,t.statusName=0==e.d.status?"待审核":1==e.d.status?"已通过":"已驳回",t.reason=e.d.operation_remark,t.transfer_type=e.d.transfer_type;var a=JSON.parse(sessionStorage.users);t.columns=JSON.parse(JSON.stringify(a.company))}else t.getData()})},submit:function(t){var e=this;if("reSub"!=t){var a=this.form;0==this.active&&(this.form.transfer_type=1),1==this.active&&(this.form.transfer_type=2),""!=a.name&&""!=a.phone&&""!=a.company&&""!=a.address&&""!=a.remark?""==this.errorPhone&&this.axios.post("/app/party/transfer",a).then(function(t){if(1==t.s)return e.$toast("提交成功!"),void e.getPartyData()}):this.$toast("请输入完整信息")}else this.canEditor=!1}}},l=c,d=(a("dbbb"),a("2877")),m=Object(d["a"])(l,o,n,!1,null,"5046e628",null);m.options.__file="Transfer.vue";e["default"]=m.exports},d2a4:function(t,e,a){"use strict";var o=a("8971"),n=a.n(o);n.a},dbbb:function(t,e,a){"use strict";var o=a("85d1"),n=a.n(o);n.a}}]);
//# sourceMappingURL=8.868ba2df.js.map