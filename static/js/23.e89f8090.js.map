{"version":3,"sources":["webpack:///./src/pages/companyService/views/apply.vue?0d7b","webpack:///src/pages/companyService/views/apply.vue","webpack:///./src/pages/companyService/views/apply.vue?b7b5","webpack:///./src/pages/companyService/views/apply.vue","webpack:///./src/pages/companyService/views/apply.vue?28d0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","input-align","clearable","label","placeholder","model","value","form","callback","$$v","$set","expression","readonly","enterprise_name","length","disabled","is-link","on","click","$event","showCompany","_v","type","rows","autosize","submitApply","position","columns","show-toolbar","confirm","choseCompany","cancel","onCancel","staticRenderFns","applyvue_type_script_lang_js_","name","data","serviceType","tag","disableApply","phone","username","company","email","need","created","setServiceType","JSON","parse","stringify","$store","state","userInfo","methods","utils","$route","params","$router","push","window","location","href","_this","_this$form","_this$form$email","_this$form$need","emailReg","test","url","zone_id","zid","apiConfig","applyCompanyService","applyUnionService","$toast","loading","mask","message","axios","post","then","res","s","success","setTimeout","query","views_applyvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_apply_vue_vue_type_style_index_0_id_526a2521_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_apply_vue_vue_type_style_index_0_id_526a2521_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"static/js/23.e89f8090.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"content\"},[_c('van-cell-group',[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"申请人\",\"placeholder\":\"请输入您的姓名\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}}),_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"readonly\":\"\",\"label\":\"联系电话\",\"placeholder\":\"请输入您的联系电话\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}}),(!_vm.form.enterprise_name || _vm.form.enterprise_name.length == 0)?[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"企业名称\",\"placeholder\":\"请输入您的企业名称\"},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}})]:(_vm.form.enterprise_name.length == 1)?[_c('van-field',{attrs:{\"input-align\":\"right\",\"disabled\":\"\",\"clearable\":\"\",\"label\":\"企业名称\",\"placeholder\":\"请输入您的企业名称\"},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}})]:[_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"企业名称\",\"readonly\":\"\",\"is-link\":\"\",\"placeholder\":\"请选择您的企业名称\"},on:{\"click\":function($event){_vm.showCompany = true}},model:{value:(_vm.form.company),callback:function ($$v) {_vm.$set(_vm.form, \"company\", $$v)},expression:\"form.company\"}})],_c('van-field',{attrs:{\"input-align\":\"right\",\"clearable\":\"\",\"label\":\"邮箱地址\",\"placeholder\":\"请输入您的邮箱\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],2),_c('div',{staticClass:\"gray pl15 p5 f14 mt5\"},[_vm._v(\"需求描述\")]),_c('van-cell-group',[_c('van-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入您的需求描述\",\"rows\":\"1\",\"autosize\":\"\"},model:{value:(_vm.form.need),callback:function ($$v) {_vm.$set(_vm.form, \"need\", $$v)},expression:\"form.need\"}})],1)],1),_c('div',{staticClass:\"p15\"},[_c('div',{staticClass:\"btn btn-success f17 btn-round\",on:{\"click\":_vm.submitApply}},[_vm._v(\"提交申请\")])]),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showCompany),callback:function ($$v) {_vm.showCompany=$$v},expression:\"showCompany\"}},[_c('van-picker',{attrs:{\"columns\":_vm.form.enterprise_name,\"show-toolbar\":\"\"},on:{\"confirm\":_vm.choseCompany,\"cancel\":_vm.onCancel}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page\">\r\n    <div class=\"content\">\r\n      <van-cell-group>\r\n        <van-field\r\n                input-align=\"right\"\r\n                v-model=\"form.username\"\r\n                clearable\r\n                label=\"申请人\"\r\n                placeholder=\"请输入您的姓名\"\r\n        />\r\n        <van-field\r\n                input-align=\"right\"\r\n                v-model=\"form.phone\"\r\n                clearable\r\n                readonly\r\n                label=\"联系电话\"\r\n                placeholder=\"请输入您的联系电话\"\r\n        />\r\n        <template v-if=\"!form.enterprise_name || form.enterprise_name.length == 0\">\r\n          <van-field\r\n                  input-align=\"right\"\r\n                  v-model=\"form.company\"\r\n                  clearable\r\n                  label=\"企业名称\"\r\n                  placeholder=\"请输入您的企业名称\"\r\n          />\r\n        </template>\r\n        <template v-else-if=\"form.enterprise_name.length == 1\">\r\n          <van-field\r\n                  input-align=\"right\"\r\n                  v-model=\"form.company\"\r\n                  disabled\r\n                  clearable\r\n                  label=\"企业名称\"\r\n                  placeholder=\"请输入您的企业名称\"\r\n          />\r\n        </template>\r\n        <template v-else>\r\n          <van-field\r\n                  input-align=\"right\"\r\n                  v-model=\"form.company\"\r\n                  clearable\r\n                  label=\"企业名称\"\r\n                  readonly\r\n                  is-link\r\n                  @click=\"showCompany = true\"\r\n                  placeholder=\"请选择您的企业名称\"\r\n          />\r\n        </template>\r\n        <van-field\r\n                input-align=\"right\"\r\n                v-model=\"form.email\"\r\n                clearable\r\n                label=\"邮箱地址\"\r\n                placeholder=\"请输入您的邮箱\"\r\n        />\r\n      </van-cell-group>\r\n      <div class=\"gray pl15 p5 f14 mt5\">需求描述</div>\r\n      <van-cell-group>\r\n        <van-field\r\n                v-model=\"form.need\"\r\n                type=\"textarea\"\r\n                placeholder=\"请输入您的需求描述\"\r\n                rows=\"1\"\r\n                autosize\r\n        />\r\n      </van-cell-group>\r\n    </div>\r\n    <div class=\"p15\">\r\n      <div class=\"btn btn-success f17 btn-round\" @click=\"submitApply\">提交申请</div>\r\n    </div>\r\n    <van-popup v-model=\"showCompany\" position=\"bottom\">\r\n      <van-picker :columns=\"form.enterprise_name\" @confirm=\"choseCompany\" show-toolbar @cancel=\"onCancel\"/>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\n  import * as utils from '@/common/utils.js'\r\n\r\n  export default {\r\n    name: 'apply',\r\n    data() {\r\n      return {\r\n        serviceType: 1,\r\n        showCompany: false,\r\n        tag: null,\r\n        disableApply: false,\r\n        form: {\r\n          phone: '',\r\n          username: '',\r\n          company: '',\r\n          email: '',\r\n          need: ''\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.setServiceType()\r\n      this.form = JSON.parse(JSON.stringify(this.$store.state.userInfo))\r\n      if (this.form.enterprise_name.length > 0) {\r\n        this.form.company = this.form.enterprise_name[0]\r\n      }\r\n    },\r\n    methods: {\r\n      setServiceType() {\r\n        if (utils.isEmpty(this.$route.params)) {\r\n          this.$router.push({\r\n            name: 'Index'\r\n          })\r\n        } else {\r\n          let tag = utils.getQueryString(window.location.href, 'tag')\r\n          let {serviceType} = this.$route.params\r\n          this.serviceType = serviceType\r\n          this.tag = tag\r\n        }\r\n      },\r\n      onCancel() {\r\n        this.showCompany = false\r\n      },\r\n      choseCompany(value) {\r\n        this.form.company = value\r\n        this.showCompany = false\r\n      },\r\n      submitApply() {\r\n        if (this.disableApply) {\r\n          return\r\n        }\r\n        let {phone, username, company, email = '', need = ''} = this.form\r\n        if (!username) {\r\n          this.$toast('请输入您的姓名')\r\n          return\r\n        }\r\n        if (!company) {\r\n          this.$toast('请填写公司名称')\r\n          return\r\n        }\r\n        var emailReg = /^[A-Za-z\\d]+([-_.][A-Za-z\\d]+)*@([A-Za-z\\d]+[-.])+[A-Za-z\\d]{2,4}$/\r\n        if (email && !emailReg.test(email)) {\r\n          this.$toast('邮箱填写有误')\r\n          return\r\n        }\r\n        let zone_id = this.form.zid\r\n        let params = {\r\n          phone,\r\n          username,\r\n          company,\r\n          email: email || '',\r\n          need: need || '',\r\n          zone_id,\r\n          serviceType: this.serviceType\r\n        }\r\n        let url\r\n        if (this.tag == 1) {\r\n          url = this.apiConfig.applyCompanyService\r\n        } else if (this.tag == 2) {\r\n          url = this.apiConfig.applyUnionService\r\n        }\r\n        this.$toast.loading({\r\n          mask: true,\r\n          message: '提交中...'\r\n        })\r\n        this.disableApply = true\r\n        this.axios.post(url, params).then(res => {\r\n          if (res.s === 1) {\r\n            this.$toast.success('提交成功，我们将会联系您')\r\n            setTimeout(() => {\r\n              this.$router.push({\r\n                name: 'applyRecord',\r\n                query: {\r\n                  serviceType: this.serviceType,\r\n                  zone_id\r\n                }\r\n              })\r\n            }, 2500)\r\n          } else {\r\n            setTimeout(() => {\r\n              this.disableApply = true\r\n            }, 1000)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  @import '../../../assets/scss/Common/variables.scss';\r\n\r\n  .van-cell input[type=text] {\r\n    text-align: right;\r\n  }\r\n\r\n  .office-list {\r\n    position: relative;\r\n    padding: rem(15px) rem(30px);\r\n    &:before {\r\n      content: '';\r\n      position: absolute;\r\n      top: rem(31px);\r\n      left: rem(5px);\r\n      width: rem(14px);\r\n      height: rem(14px);\r\n      border-radius: 50%;\r\n      background-color: green;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./apply.vue?vue&type=template&id=526a2521&scoped=true&\"\nimport script from \"./apply.vue?vue&type=script&lang=js&\"\nexport * from \"./apply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./apply.vue?vue&type=style&index=0&id=526a2521&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"526a2521\",\n  null\n  \n)\n\ncomponent.options.__file = \"apply.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=style&index=0&id=526a2521&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./apply.vue?vue&type=style&index=0&id=526a2521&lang=scss&scoped=true&\""],"sourceRoot":""}